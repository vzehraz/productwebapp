# Products Web App Service

This is a web application service for managing products. Below are the requirements and instructions to set up and run the application.

## Requirements

To run this application, you will need the following:

- Java 11 SDK - It is suggested to use sdkman, which can be installed from https://sdkman.io/install.
- Maven - Maven is required to build and run the application. You can install Maven from https://maven.apache.org/install.html.
- SQL database - You will need to have a SQL database installed, and create a `products` database in it.

### Running MySQL in Docker

To run MySQL in Docker, you can use the following command:

```bash
docker run -d -p 33006:3306 --name=mysql --env="MYSQL_ROOT_PASSWORD=test1234" --env="MYSQL_DATABASE=products" mysql
```

### Loading Data to Products DB
The `.\src\main\resources\products.sql` file contains mock data that is used for testing purposes.
To load this data into the MySQL database running in Docker, use the following command:

```bash
docker exec -i productdb mysql -uroot -ptest1234 name_db < .\src\main\resources\products.sql
```

> Note: Make sure that the Spring Boot application has been run at least once before executing this command, to ensure that the tables for product entities have been created correctly.

### Running the Application
To run the application, navigate to the project directory and run the following command:
````bash
mvn productwebapp:run
````

This will start the application, and you can access it in your web browser or postman at http://localhost:8300.

### API Endpoints
The following table lists the RESTful API endpoints that the application provides:

| HTTP Method | API Endpoint | Description |
| ----------- | ------------ | ----------- |
| GET | /products | Returns a list of all products |
| GET | /product/{id} | Returns a single product by its ID |
| POST | /product | Inserts a new product |
| DELETE | /product/{id} | Deletes an existing product by its ID |
| PUT | /product/{id} | Updates an existing product by its ID |

Note that all of these endpoints are relative to the base URL of the application,
which may vary depending on how the application is deployed.

### Expected JSON for a POST

When making a `POST` request to the `/product` endpoint, the request body should be in the following JSON format.

````json
{
  "id": 2,
  "name": "Smartwatch 2000",
  "catId": 1,
  "imageURL": "https://example.com/smartwatch2000.jpg",
  "price": 149.99,
  "description": "The Smartwatch 2000"
}
````
This example JSON shows the expected fields and their respective types.
Note that the `id` field is not required as it will be generated by the server.

